{% extends 'base.html' %}

{% block content %}
<h1 class="mb-4">Bots Overview</h1>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Bot Name</th>
      <th>Description</th>
      <th>Active</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for bot in bots %}
    <tr>
      <td>{{ bot.name }}</td>
      <td>{{ bot.description }}</td>
      <td>{{ 'Yes' if bot.active else 'No' }}</td>
      <td>
        {% if bot.active %}
        <form method="post" action="{{ url_for('stop_bot', bot_id=bot.id) }}" style="display:inline;" data-confirm="Are you sure you want to stop this bot?">
  <button class="btn btn-danger btn-sm" type="submit">Stop</button>
</form>
<form method="post" action="{{ url_for('start_bot', bot_id=bot.id) }}" style="display:inline;" data-confirm="Are you sure you want to start this bot?">
  <button class="btn btn-success btn-sm" type="submit">Start</button>
</form>

        {% endif %}
        <a href="{{ url_for('bot_detail', bot_id=bot.id) }}" class="btn btn-primary btn-sm ms-2">Manage</a>
      </td>
    </tr>
    {% else %}
    <tr><td colspan="4">No bots found.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
